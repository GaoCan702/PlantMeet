# 遇见植物 / PlantMeet

### TL;DR

遇见植物 / PlantMeet 是一款“小而美”的我的植物图鉴App，面向学生与植物爱好者。聚焦极简的三件事：识别、记录（智能去重+多次遇见）、导出。识别链路采用“本地端侧模型（MNN chat API）为主 + BYOK云端API为补充”的双通道方案，默认本地优先，隐私友好，识别成本为零（开发方无API费用）。产品强调“先拍后识别”的操作与性能策略，避免实时预览推理带来的卡顿与耗电。非核心功能（成就、天气自动获取、批量识别、社区分享等）全部推迟或移除，确保无冗余、低心智负担、上手零门槛。

---

## Goals

### Product Principles（小而美）

* 极简：只做识别、记录、导出三件事，其他一律后置

* 聚焦：围绕“我的图鉴”与“每次遇见”的价值闭环

* 无冗余：去除非必要的设置、流程与装饰

* 零门槛：首次即会用，路径最短、状态透明

* 本地优先零成本：默认本地端侧识别，开发方识别API成本为零

* 先拍后识别：稳定、节能，避免实时预览推理的性能与能耗开销

### Business Goals

* 3个月内发布MVP，达成1000+自然下载与次月留存≥25%

* 产出与呈现：人均创建≥10条“遇见”记录，PDF导出率≥20%

* 口碑：NPS≥30，App内CSAT≥4.5/5

* 隐私合规：未成年人数据默认本地；除用户主动选择BYOK云端识别外不上传

* 成本：开发方识别API费用=0；云端识别由用户自带Key承担

### User Goals

* 快速识别：离线用本地模型识别，必要时用自带Key的云端识别；先拍后识别更稳定节能

* 轻松记录：为同一种植物的每次遇见记录时间、地点、照片、心情/短Post

* 智能去重：自动合并同一种植物，避免重复条目；多次遇见清晰可回溯

* 清晰知识：在详情页查看简明植物介绍与有毒提醒

* 成果输出：一键导出PDF，打印成纸质图鉴用于课堂或收藏

* 安心可控：数据默认留在本地，识别方式清晰、调用云端前明确提示

### Non-Goals（MVP不做）

* 成就/勋章、积分激励、任务体系

* 天气自动获取、附近植物、地图探索

* 批量识别、先拍后批处理、后台队列、模型热更新

* 高级导出格式（Markdown/图片包等）、高级版式系统

* 社区/公开分享/评论点赞等社交功能

* 复杂账号、云端同步、数据加密/高级备份方案

---

## 识别成本与模式

* 本地识别（主路径）：通过MNN chat在用户设备本地推理；开发方识别成本为零，隐私友好

* 云端识别（BYOK，可选）：用户自带API Key；调用前明确弹窗说明“图片将上传至你配置的服务商”；费用由用户承担

* 策略：默认本地优先；当本地置信度低或用户主动选择时再用云端；全程状态透明

---

## User Stories（MVP）

* 学生

  * 作为学生，我想在户外无网络时也能识别常见植物，以便及时学习

  * 作为学生，我想将每次遇见的时间、地点、照片和心情一起保存，方便回顾

  * 作为学生，我想一键导出PDF做成纸质图鉴，用于课堂展示

* 植物爱好者/家长

  * 作为爱好者，我想默认不上传图片，必要时再选择云端识别

  * 作为家长，我希望App界面简单、青春，孩子无需指导即可使用

---

## Functional Requirements（MVP Only）

### 1) 识别（先拍后识别，本地为主）

* 交互流程（P0）

  * 先拍后识别：用户拍摄或选图后才触发推理，避免实时预览推理导致的卡顿、发热与耗电

  * 入口：拍照识别 / 从相册选择；拍摄完成后提供“重拍/识别”二选

* 本地识别（P0）

  * 通过MNN chat本地API完成推理

  * App自动检测服务可用性与连接状态；不可用时提供友好引导（开启/安装/重试）

  * 返回Top-3候选与置信度；在结果页清晰标识“本地处理（不上传）”

* 云端识别 BYOK（可选，P0）

  * 设置中添加/验证用户自带Key

  * 调用前弹窗提示数据将上传至用户配置的服务商，并征得同意

  * 调用失败时提供优雅回退（重试/改用本地/保留为未知）

* 方式选择与透明提示（P0）

  * 默认本地优先；当本地置信度低时建议使用云端（弹出底部提示）

  * 识别界面可一键切换本地/云端；顶部状态清晰展示当前方式与数据流向

  * 显示“开发方识别成本为零/云端由你承担”的轻量说明（可在设置页查看详情）

### 2) 我的植物图鉴（智能去重 + 多次遇见，P0）

* 智能去重（避免重复条目）

  * 基于学名/物种ID（taxonID）与高置信度识别结果进行合并；在图鉴主列表中每个物种仅显示一次

  * 创建新记录前，若识别为已存在物种，提示“将这次作为新的遇见添加到已有条目”

  * 支持用户在保存前更换候选物种，降低误合并风险

* 多次遇见记录（每次独立）

  * 在物种详情页，以时间线展示每次遇见（时间、地点、照片、心情/用户Post）

  * 每次遇见都可单独编辑与删除，不影响其他遇见与物种主信息

* 列表与检索

  * 网格/卡片式浏览；按时间/字母排序；关键词搜索物种名（中文/学名）

* 基础编辑

  * 可编辑物种的展示名与代表照（不改动物种唯一ID）

  * 可编辑单次遇见的文字与图片；不做复杂版本管理

### 3) 每次遇见的信息结构（P0）

* 时间（自动填充，可编辑）

* 地点（授权后自动填充，可编辑，也可选择不记录）

* 照片（至少1张）

* 心情/用户Post（短文本，主观描述）

* 来源与方式（拍照/相册、本地/云端识别）用于透明记录

### 4) 简明植物介绍与有毒提醒（P0）

* 在物种详情页展示精炼信息：

  * 中文名、学名、简单特征描述（数行文字）

  * 有毒/无毒提醒与基本注意事项（若可用）

* 不做深度百科、相似物种长文或复杂科属谱系

### 5) 导出PDF纸质图鉴（P0）

* 选择导出范围（全部或勾选物种）

* 自动生成简洁模板（封面、作者、日期；每种植物含代表照、简明介绍、遇见次数与精选遇见）

* 本地渲染并生成PDF，支持保存到本地与系统打印

* 不提供额外导出格式与复杂版式自定义

### 6) 现代青春顺畅的UI/UX（P0）

* 视觉基调：清新绿与青春渐变、圆角卡片、轻微动效

* 操作路径最短：拍照/选图 → 识别 → 确认 → 保存 ≤ 4步（先拍后识别）

* 状态透明：顶部状态条显示识别方式与数据流向（本地/云端、是否上传）

* 轻量反馈：识别完成、保存成功有轻微动效与提示，不打扰

* 极简设置：仅保留识别方式与BYOK Key管理相关项

### 7) 新手引导与透明提示（P0）

* 首启3屏以内：我的图鉴 → 本地识别与隐私 → 可选云端识别（BYOK）

* MNN chat快速引导：什么是本地服务、如何安装/开启/连通；一键跳转与检测

* 权限请求：相机/相册/位置，仅在需要时请求，并说明用途与可拒绝后的替代路径

* 识别方式切换教育：首次切换云端时弹出说明；可在设置页随时查看

* 透明记录：在详情页可查看该条遇见的识别方式与数据是否上传

---

## User Experience

### 关键路径（先拍后识别）

1. 首页点击“识别/添加”

  * 提供“拍照识别”“从相册选择”两个入口

2. 拍摄与选择

  * 先拍照完成后进入结果准备态（可重拍/开始识别）

3. 识别

  * 默认使用本地（MNN chat）；不可用时提示“一键开启MNN chat/改用云端/先保存为未知”

  * 可在顶部一键切换到云端识别（若已配置Key），弹出隐私提示并二次确认

4. 结果确认

  * 展示Top候选（中文名、学名、简要描述、有毒提醒、置信度）

  * 用户确认或改选候选；确认后进入该物种详情

5. 保存“遇见”

  * 自动填充时间、地点；用户可补充心情/短Post

  * 若物种已存在，追加为“新的遇见”；否则创建新物种并添加首个遇见

6. 回顾与导出

  * 在“我的图鉴”浏览物种与遇见时间线

  * 在“导出”中选择范围与简洁模板，一键生成PDF并打印

### UI/UX Highlights

* 先拍后识别：更稳定、节能，缩短推理等待体感

* 智能去重提醒：在保存前明确提示是否将本次作为新遇见追加，避免重复条目

* 明显的方式状态：标签与图标同步展示“本地/云端”，并可点击查看说明

* 错误与回退：使用易懂语言，提供“重试/改用本地/先保存为未知”的三选项

---

## Success Metrics

* 采纳与留存：激活率（完成首个遇见）、D1/D7留存、MAU

* 使用深度：人均物种数、人均遇见数、本地识别占比

* 输出质量：PDF导出率与成功率

* 体验满意度：CSAT≥4.5，NPS≥30

* 识别质量：Top-1/Top-3准确率、用户修正率

* 成本可控：云端调用占比（目标低）、平均每DAU云端成本≈0；开发方识别API费用=0

---

## Technical Considerations（MVP Scope）

### 必要技术

* 客户端：iOS/Android，相机/相册接入、权限管理、本地数据库（图鉴与遇见数据）、文件系统访问

* 本地识别（MNN chat本地API）：服务探测与连接、图片预处理、Top-K候选与置信度处理、故障回退

* 云端识别（BYOK）：可配置HTTP接口、超时与重试、错误文案与提示

* PDF渲染：本地模板、分页、目录、图片压缩、字体嵌入与打印裁切

* 数据模型：物种（唯一，含taxonID）、遇见（多次，含来源与方式）、图片资源、导出任务

### 智能去重实现要点（MVP）

* 主键与合并策略：以taxonID/学名为物种唯一码；保存时优先匹配现有物种进行合并

* 误合并防护：当Top-1与Top-2置信度接近时，要求用户确认；支持手工改选候选

* 数据一致性：物种层与遇见层分表，确保每次遇见可独立编辑，不污染物种主信息

### 集成点

* MNN chat应用检测与一键唤起/引导安装

* 系统打印与本地文件保存

* 地理位置服务（用于遇见地点记录，可关闭）

### 数据与隐私

* 默认本地存储，最小化收集；不做云端同步

* BYOK识别仅在用户明确同意后上传图片至其配置的服务商

* BYOK密钥仅本地安全存储，支持一键删除

* 可导出/删除全部数据，支持家长/教师的合规需求

### 性能与体积

* 先拍后识别、单张推理，降低内存峰值与发热；限制并发，序列化处理

* 图片压缩与裁剪：在本地预处理以提升推理速度

* PDF生成采用流式渲染，导出后清理临时文件

* 基础包体积控制（不含MNN chat与其模型）

### 风险与回退

* MNN chat不可用：引导开启或改用云端，或保存为未知

* BYOK失败：Key无效/额度不足/超时，提示更换Key/稍后重试/保留本地结果

* 误识别或误合并：允许在物种详情中将某次遇见“移至新物种”（轻量纠错）

---

## Milestones & Sequencing

1. 发现与设计（0.5周）

  * 明确信息架构与核心流程原型（先拍后识别→确认→遇见→导出）

  * 视觉基调（现代、青春、轻量）

  * MNN chat对接可行性验证与服务探测方案

2. MVP开发（2周）

  * 本地识别（MNN chat）接入与状态检测（主路径）

  * 云端识别（BYOK）配置与调用（可选）

  * 我的图鉴：智能去重 + 多次遇见时间线

  * 遇见信息结构与编辑（时间/地点/照片/心情/来源方式）

  * PDF导出（简洁模板）

  * 新手引导、识别方式切换与透明提示；基础埋点

3. Beta打磨（1周）

  * 识别准确性与错误回退优化

  * 智能去重阈值与交互提示优化，减少误合并

  * UI细节、动效与可用性修正

  * 性能与稳定性优化（内存、发热、导出成功率）

4. 上线与学习（0.5–1周）

  * 商店物料（以“遇见植物 / PlantMeet”命名）、隐私合规、灰度发布

  * 指标回收与快速修补

---

## Roadmap Policy（后续版本再评估）

* 成就系统/徽章、天气自动获取

* 批量识别、先拍后批处理与后台队列、模型热更新

* 高级导出格式与高级版式、相似物种对比与深度百科

* 社区/分享、附近植物/地图探索

* 账号体系、云端同步、数据加密/高级备份

以上一律不进入MVP；待市场反馈验证后按价值与成本评估是否引入。